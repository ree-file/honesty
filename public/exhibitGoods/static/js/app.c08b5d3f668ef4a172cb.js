webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",[e("router-view")],1)],1)},staticRenderFns:[]};var a=s("VU/8")({name:"App"},n,!1,function(t){s("Xdmv")},null,null).exports,i=s("/ocq"),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-header",[s("span",[t._v(" "+t._s(t.$store.state.supplier_name)+"上货端--记录 ")])]),t._v(" "),s("el-main",[s("ul",{staticClass:"list-group"},t._l(t.$store.state.goods,function(e){return s("li",{key:e.pivot.goods_id,staticClass:"list-group-item"},[s("el-row",{staticStyle:{height:"100%",display:"flex","align-items":"center"}},[s("el-col",{staticStyle:{height:"100%"},attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple"},[s("span",[t._v(t._s(e.goods_name))])])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple-light"}),t._v(" "),s("el-input",{attrs:{placeholder:"昨日剩余量"},model:{value:e.leave,callback:function(s){t.$set(e,"leave",s)},expression:"goods.leave"}})],1)],1)],1)})),t._v(" "),s("el-row",[s("el-col",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitrecord()}}},[t._v("提交")])],1)],1)],1),t._v(" "),s("el-footer",{attrs:{height:"60px"}},[s("el-row",{staticStyle:{height:"100%"}},[s("el-col",{staticStyle:{height:"100%"},attrs:{span:12}},[s("router-link",{attrs:{to:{name:"show"}}},[s("div",{staticClass:"grid-content bg-purple",class:{changeRoute:0==t.$store.state.view},staticStyle:{display:"flex",height:"60px"},on:{click:function(e){t.changeView(0)}}},[s("span",[t._v("记录")])])])],1),t._v(" "),s("el-col",{staticStyle:{height:"100%"},attrs:{span:12}},[s("router-link",{attrs:{to:{name:"operate"}}},[s("div",{staticClass:"grid-content bg-purple-light",class:{changeRoute:1==t.$store.state.view},staticStyle:{display:"flex",height:"100%"},on:{click:function(e){t.changeView(1)}}},[s("span",[t._v("操作")])])])],1)],1)],1)],1)},staticRenderFns:[]};var l=s("VU/8")({name:"Show",created:function(){this.$store.state.login||this.$router.push({path:"/login"})},components:{},methods:{changeView:function(t){this.$store.dispatch("changeview",t)},submitrecord:function(){var t=this;this.$store.dispatch("record").then(function(){t.notify(),t.$store.state.record&&t.$store.state.operate&&t.confirm()})},notify:function(){var t=this.$createElement;this.$notify({title:"记录",message:t("span",{style:"color: black"},"记录保存成功"),type:"success"})},confirm:function(){var t=this;this.$confirm("是否将信息提交至平台","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("submit",t.$store.state.goods)}).catch(function(){t.$message({type:"info",message:"已取消提交"})})}}},r,!1,function(t){s("pqc7")},null,null).exports,c={name:"operate",created:function(){this.$store.state.login||this.$router.push({path:"/login"})},components:{},methods:{changeView:function(t){this.$store.dispatch("changeview",t)},caveat:function(t){var e=this.$store.state.supplier_name+"缺少"+this.$store.state.goods[t].goods_name,s=this.$store.state.operator;this.axios.post("http://honesty.zhaischool.com/api/notify",{content:e,operator:s}).then(function(t){console.log(t)})},operate:function(){var t=this;this.$store.dispatch("operate").then(function(){t.notify(),t.$store.state.record&&t.$store.state.operate&&t.confirm()})},notify:function(){var t=this.$createElement;this.$notify({title:"操作",message:t("span",{style:"color: black"},"操作保存成功"),type:"success"})},confirm:function(){var t=this;this.$confirm("是否将信息提交至平台","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("submit",t.$store.state.goods)}).catch(function(){t.$message({type:"info",message:"已取消提交"})})}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-header",[s("span",[t._v(" "+t._s(t.$store.state.supplier_name)+"上货端--上货 ")])]),t._v(" "),s("el-main",[s("ul",{staticClass:"list-group"},t._l(t.$store.state.goods,function(e,o){return s("li",{key:e.pivot.goods_id,staticClass:"list-group-item"},[s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple",staticStyle:{display:"flex","flex-direction":"column"}},[s("span",[t._v(t._s(e.goods_name))]),t._v(" "),s("span",{staticClass:"word"},[t._v("今日上货至"+t._s(e.pivot.shipments))])])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple-light"}),t._v(" "),s("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"今日上货量"},model:{value:e.added,callback:function(s){t.$set(e,"added",s)},expression:"goods.added"}}),t._v(" "),s("el-dropdown",{attrs:{size:"mini"},on:{command:function(e){t.caveat(o)}}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[t._v("缺货")])],1)],1)],1)],1)],1)})),t._v(" "),s("el-row",[s("el-col",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.operate()}}},[t._v("提交")])],1)],1)],1),t._v(" "),s("el-footer",{attrs:{height:"60px"}},[s("el-row",{staticStyle:{height:"100%"}},[s("el-col",{staticStyle:{height:"100%"},attrs:{span:12}},[s("router-link",{attrs:{to:{name:"show"}}},[s("div",{staticClass:"grid-content bg-purple",class:{changeRoute:0==t.$store.state.view},staticStyle:{display:"flex",height:"60px"},on:{click:function(e){t.changeView(0)}}},[s("span",[t._v("记录")])])])],1),t._v(" "),s("el-col",{staticStyle:{height:"100%"},attrs:{span:12}},[s("router-link",{attrs:{to:{name:"operate"}}},[s("div",{staticClass:"grid-content bg-purple-light",class:{changeRoute:1==t.$store.state.view},staticStyle:{display:"flex",height:"100%"},on:{click:function(e){t.changeView(1)}}},[s("span",[t._v("操作")])])])],1)],1)],1)],1)},staticRenderFns:[]};var u=s("VU/8")(c,p,!1,function(t){s("oj9m")},null,null).exports,h={name:"login",data:function(){return{ruleForm2:{name:"",pass:""}}},methods:{submitForm:function(t){var e=this;this.axios.post("http://honesty.zhaischool.com/api/login",{name:this.ruleForm2.name,password:this.ruleForm2.pass}).then(function(t){console.log(t),"false"!=t.data.data?e.$store.dispatch("login",{name:e.ruleForm2.name,supplier_id:t.data.data.supplier_id,supplier_name:t.data.data.supplier_name}).then(function(){e.$store.state.login&&e.$store.dispatch("show").then(function(){e.open(!0),e.$router.push({path:"/"})})}):e.open(!1)})},resetForm:function(t){this.$refs[t].resetFields()},open:function(t){t?this.$message({message:"登录成功",type:"success"}):this.$message({message:"登录失败，检查账号和密码",type:"warning"})}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[t._m(0),t._v(" "),s("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"账号：",prop:"name"}},[s("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.ruleForm2.name,callback:function(e){t.$set(t.ruleForm2,"name",e)},expression:"ruleForm2.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码：",prop:"pass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.ruleForm2.pass,callback:function(e){t.$set(t.ruleForm2,"pass",e)},expression:"ruleForm2.pass"}})],1),t._v(" "),s("el-form-item",{staticClass:"operateBox"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm2")}}},[t._v("提交")]),t._v(" "),s("el-button",{on:{click:function(e){t.resetForm("ruleForm2")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("h5",[this._v("诚信小铺上货端--登录")])])}]};var d=s("VU/8")(h,m,!1,function(t){s("v3EO")},null,null).exports;o.default.use(i.a);var f=new i.a({history:!0,routes:[{path:"/",name:"show",component:l},{path:"/operate",name:"operate",component:u},{path:"/login",name:"login",component:d}]}),g=s("zL8q"),v=s.n(g),_=(s("tvR6"),s("NYxO")),y=s("mtWM"),$=s.n(y),w=s("Rf8U"),b=s.n(w);o.default.use(b.a,$.a),o.default.use(_.a);var x=new _.a.Store({state:{goods:[],view:0,login:!1,record:!1,operate:!1,supplier_name:"",supplier_id:0,operator:""},mutations:{supplier:function(t,e){t.goods=e.goods,t.supplier_name=e.supplier_name},view:function(t,e){t.view=e},saverecord:function(t){t.record=!0},saveoperate:function(t){t.operate=!0},loginstatus:function(t,e){t.supplier_name=e.supplier_name,t.login=!0,t.supplier_id=e.supplier_id,t.operator=e.name}},actions:{show:function(t){o.default.axios.get("http://honesty.zhaischool.com/api/supplier/goods/"+this.state.supplier_id).then(function(e){t.commit("supplier",e.data.data[0])})},changeview:function(t,e){t.commit("view",e)},login:function(t,e){t.commit("loginstatus",e)},record:function(t){t.commit("saverecord")},operate:function(t){t.commit("saveoperate")},submit:function(t,e){$.a.post("http://honesty.zhaischool.com/api/supplier/operate/"+this.state.supplier_id,{goods:e}).then(function(t){console.log(t)})}}});o.default.use(b.a,$.a),o.default.config.productionTip=!0,o.default.use(v.a),new o.default({el:"#app",router:f,store:x,components:{App:a},template:"<App/>"})},Xdmv:function(t,e){},oj9m:function(t,e){},pqc7:function(t,e){},tvR6:function(t,e){},v3EO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c08b5d3f668ef4a172cb.js.map